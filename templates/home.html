<!---->

{% load static %}
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="robots" content="index, follow" />

    {# --- SEO and Meta Tags --- #}
    <meta
      name="description"
      content="{% block meta_description %}Discover authentic Nepali Ayurvedic medicines for holistic wellness and natural healing.{% endblock meta_description %}"
    />
    <meta
      name="keywords"
      content="{% block meta_keywords %}ayurvedic medicine, nepali ayurveda, natural healing, wellness, herbal products{% endblock meta_keywords %}"
    />
    <meta name="author" content="दिर्घायु" />

    {# --- Open Graph for Social Sharing --- #}
    <meta
      property="og:title"
      content="{% block og_title %}दिर्घायु - Authentic Nepali Ayurvedic Medicine{% endblock og_title %}"
    />
    <meta
      property="og:description"
      content="{% block og_description %}Explore a range of natural Ayurvedic products for health and wellness.{% endblock og_description %}"
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="{{ request.build_absolute_uri }}" />
    <meta property="og:image" content="{% static 'images/og-image.jpg' %}" />

    {# --- Twitter Card --- #}
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="{% block twitter_title %}दिर्घायु - Authentic Nepali Ayurvedic Medicine{% endblock twitter_title %}"
    />
    <meta
      name="twitter:description"
      content="{% block twitter_description %}Explore a range of natural Ayurvedic products for health and wellness.{% endblock twitter_description %}"
    />
    <meta name="twitter:image" content="{% static 'images/og-image.jpg' %}" />

    {# --- Dynamic Title --- #}
    <title>
      {% block title %}दिर्घायु - Authentic Nepali Ayurvedic Medicine
      <!---->
      {% endblock title %}
    </title>

    {# --- Favicon and Web Manifest --- #}
    <link
      rel="icon"
      type="image/x-icon"
      href="{% static 'images/favicon.ico' %}"
    />
    <link
      rel="apple-touch-icon"
      href="{% static 'images/apple-touch-icon.png' %}"
    />
    <link rel="manifest" href="{% static 'manifest.json' %}" />

    {# --- CSS Assets --- #}
    <link rel="stylesheet" href="{% static 'css/main.css' %}" media="all" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.css"
      media="all"
      integrity="sha384-...[latest integrity hash]"
      crossorigin="anonymous"
    />

    {# --- Preload critical assets --- #}
    <link rel="preload" href="{% static 'css/main.css' %}" as="style" />
    <link
      rel="preload"
      href="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js"
      as="script"
    />

 {% block extra_head %} 
 <!---->
 {% endblock extra_head %}
  </head>
  <body
    class="bg-gray-50 dark:bg-gray-900 min-h-screen flex flex-col font-sans antialiased"
  >
    {# --- Header/Navigation --- #}
    <header>
      <nav
        class="bg-white border-b border-gray-200 dark:bg-gray-800 dark:border-gray-700 shadow-sm"
        aria-label="Main navigation"
      >
        <div
          class="max-w-screen-xl mx-auto p-4 flex items-center justify-between flex-wrap"
        >
          {# --- Brand Logo --- #}
          <a
            href="{% url 'homepage' %}"
            class="flex items-center space-x-3 rtl:space-x-reverse"
            aria-label="दिर्घायु Home"
          >
            <img src="{% static 'image/svg.svg' %}" alt="logo" width="30" height="30">
            <span class="text-2xl font-extrabold text-gray-900 dark:text-white"
              >दिर्घायु</span
            >
          </a>

          {# --- Mobile Menu Toggle (Flowbite Component) --- #}
          <button
            data-collapse-toggle="navbar-ecommerce"
            type="button"
            class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
            aria-controls="navbar-ecommerce"
            aria-expanded="false"
          >
            <span class="sr-only">Toggle main menu</span>
            <svg
              class="w-5 h-5"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 17 14"
            >
              <path
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M1 1h15M1 7h15M1 13h15"
              />
            </svg>
          </button>

          {# --- Navigation Menu (Unified for Desktop and Mobile) --- #}
          <div
            class="hidden w-full md:flex md:w-auto md:order-1"
            id="navbar-ecommerce"
          >
            <ul
              class="flex flex-col md:flex-row md:space-x-8 p-4 md:p-0 mt-4 md:mt-0 border border-gray-100 md:border-0 rounded-lg bg-gray-50 md:bg-transparent dark:bg-gray-800 md:dark:bg-transparent dark:border-gray-700 font-medium"
            >
              <li>
                <a
                  href="{% url 'homepage' %}"
                  class="nav-link-style {% if request.resolver_match.url_name == 'homepage' %}active{% endif %}"
                  aria-current="{% if request.resolver_match.url_name == 'homepage' %}page{% endif %}"
                >
                  Home
                </a>
              </li>
              <li>
                <a
                  href="{% url 'productpage' %}"
                  class="nav-link-style {% if request.resolver_match.url_name == 'productpage' %}active{% endif %}"
                  aria-current="{% if request.resolver_match.url_name == 'productpage' %}page{% endif %}"
                >
                  Shop Now
                </a>
              </li>
              {% if user.is_authenticated %}
              <li>
                <img
                  id="avatarButton"
                  type="button"
                  data-dropdown-toggle="userDropdown"
                  data-dropdown-placement="bottom-start"
                  class="w-10 h-10 rounded-full cursor-pointer"
                  src="https://cdn-icons-png.flaticon.com/128/16085/16085798.png"
                  alt="User dropdown"
                />
                <!-- Dropdown menu -->
                <div
                  id="userDropdown"
                  class="z-[9999] hidden bg-white divide-y divide-gray-100 rounded-lg shadow-sm w-44 dark:bg-gray-700 dark:divide-gray-600 border border-gray-200 dark:border-gray-600"
                >
                  <div
                    class="z-[9999] px-4 py-3 text-sm text-gray-900 dark:text-white"
                  >
                    <div>{{request.user.username}}</div>
                    <div class="font-medium truncate">{{user.email}}</div>
                  </div>
                  <ul
                    class="z-[9999] py-2 text-sm text-gray-700 dark:text-gray-200"
                    aria-labelledby="avatarButton"
                  >
                    <li>
                      <a
                        href="{% url 'profile' %}"
                        class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
                        >Profile</a
                      >
                    </li>
                    <li>
                      <a
                        href="{% url 'homepage' %}"
                        class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
                        >Dashboard</a
                      >
                    </li>
                    <li>
                      <a
                        href="{% url 'myorder' %}"
                        class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
                        >My Orders</a
                      >
                    </li>
                  </ul>
                  <div class="py-1">
                    <a
                      href="{% url 'logout' %}"
                      class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"
                      >Sign out</a
                    >
                  </div>
                </div>
              </li>
              {% else %}
              <li>
                <a href="{% url 'login' %}" class="nav-link-style">Login</a>
              </li>
              <li>
                <a href="{% url 'register' %}" class="nav-link-style"
                  >Register</a
                >
              </li>
              {% endif %}
              <li>
                <a
                  href="{% url 'cartlist' %}"
                  class="nav-link-style flex items-center {% if request.resolver_match.url_name == 'cartlist' %}active{% endif %}"
                  aria-current="{% if request.resolver_match.url_name == 'cartlist' %}page{% endif %}"
                  aria-label="View Shopping Cart"
                >
                  <svg
                    class="w-5 h-5 mr-2"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg"
                    aria-hidden="true"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"
                    ></path>
                  </svg>
                  <span
                    class="cart-count {% if cart_count == 0 %}hidden{% endif %} inline-flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-blue-600 rounded-full"
                  >
                    {{ cart_count|default:0 }}
                  </span>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    {# --- Main Content Area --- #}
    <main class="flex-grow container mx-auto px-4 py-8" role="main">
      {% block main_section %} {% endblock main_section %}
    </main>
        <footer
          class="bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 mt-auto"
        >
          <div class="max-w-screen-xl mx-auto p-4 md:py-8">
            <div class="sm:flex sm:items-center sm:justify-between">
        
              <a
                href="{% url 'homepage' %}"
                class="flex items-center mb-4 sm:mb-0 space-x-3 rtl:space-x-reverse"
                aria-label=""
              >
              
              <img src="{% static 'image/svg.svg' %}" alt="logo" width="30" height="30">
               
                <span class="text-2xl font-bold text-gray-900 dark:text-white"
                  >दिर्घायु</span
                >
              </a>

              {# --- Footer Navigation Links --- #}
              <ul
                class="flex flex-wrap items-center mb-6 text-sm font-medium text-gray-500 sm:mb-0 dark:text-gray-400"
              >
                <li>
                  <a href="{% url 'about' %}" class="hover:underline me-4 md:me-6">About Us</a>
                </li>
                 <li>
                  <a href="{% url 'how' %}" class="hover:underline me-4 md:me-6">How to use?</a>
                </li>
                
              </ul>
            </div>

            <hr class="my-6 border-gray-200 dark:border-gray-700" />

            {# --- Copyright and Social Media --- #}
            <div class="sm:flex sm:items-center sm:justify-between">
              <span class="text-sm text-gray-500 dark:text-gray-400">
                © {% now "Y" %}
                <a href="{% url 'homepage' %}" class="hover:underline"
                  >दिर्घायु </a
                >. All Rights Reserved.
              </span>
              <div class="flex mt-4 sm:mt-0 space-x-5 justify-center">
                <a
                  href="https://facebook.com/ecompro"
                  class="text-gray-500 hover:text-blue-600 dark:hover:text-blue-400"
                  aria-label="Visit EcomPro on Facebook"
                >
                  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                    <path
                      d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"
                    />
                  </svg>
                </a>
               
              </div>
            
            </div>
               <!---->
               <div class="flex flex-col sm:flex-row items-center justify-between mt-4 border-t border-gray-200 dark:border-gray-700 pt-4">
  <p class="text-sm text-gray-600 dark:text-gray-400 text-center sm:text-left">
    Crafted with <span class="text-red-500">❤️</span> and precision by 
    <a 
      href="https://www.linkedin.com/in/binod-raj-pant-303767330/" 
      target="_blank" 
      class="font-semibold text-blue-600 dark:text-blue-400 hover:underline transition-colors duration-200"
    >
      Binod
    </a>
  </p>
</div>

            

            <!---->
        
          </div>
           
        </footer>

        {# --- JavaScript Assets --- #}
        <script
          src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js"
          integrity="sha384-...[latest integrity hash]"
          crossorigin="anonymous"
          defer
        ></script>

        {# --- Page-Specific JavaScript --- #} {% block extra_js %}
        <script>
          document.addEventListener("DOMContentLoaded", () => {
            const toggleButton = document.querySelector(
              '[data-collapse-toggle="navbar-ecommerce"]'
            );
            const menu = document.querySelector("#navbar-ecommerce");
            if (toggleButton && menu) {
              toggleButton.addEventListener("click", () => {
                menu.classList.toggle("hidden");
              });
            }
          });
        </script>
        {% endblock extra_js %}
      </body>
    </html>
    <!---->
  </body>
</html>
